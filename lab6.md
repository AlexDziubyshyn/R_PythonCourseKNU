# Lab 6

## Task 1
### Створити матрицю mat з 5 стовпцями та 10 строками за допомогою matrix з випадковими даними (функція rnorm(50)).
```{r}
mat <- matrix(
                rnorm(50),
                nrow = 10,
                ncol = 5,
                byrow = TRUE
            )
mat
            [,1]       [,2]        [,3]       [,4]       [,5]
 [1,]  0.60809002 -0.1031617 -0.49225219  0.5550754  0.8269399
 [2,]  0.09240561 -0.8240340 -0.03535169  1.6468559  0.7871929
 [3,]  0.63092457 -2.0240858  0.73961770  2.1364006  0.1531665
 [4,]  1.08005523  0.7457703  1.01701762  0.7819053 -1.0743421
 [5,] -3.21034040  2.3630683 -0.78016960  0.8705718  1.2071752
 [6,] -0.78364967 -2.3250558  0.68167776 -0.5870954  1.7722318
 [7,] -0.42496960  1.9758181 -1.12003778  1.0766929  0.3167024
 [8,]  1.23320952  0.5772223  0.68879895  0.5263846  0.1569104
 [9,] -0.41972186 -0.4717492 -1.86499811  0.4266255  0.8800319
[10,] -1.98790783 -1.1296053  0.49798082  1.0328074  2.3016229
```

## Task 2
### Знайти максимальне значення в кожному стовпці.
```{r}
colMax <- function(data) sapply(data, max, na.rm = TRUE)
mat <- as.data.frame(mat)
colMax(mat)
      V1       V2       V3       V4       V5 
1.233210 2.363068 1.017018 2.136401 2.301623 
```

## Task 3
### Знайти середнє (mean) значення кожного стовпця.
```{r}
colMeans(mat)
         V1          V2          V3          V4          V5 
-0.31819044 -0.12158127 -0.06677165  0.84662238  0.73276317 
```

## Task 4
### Знайти мінімальне значення в кожному рядку.
```{r}
colMin <- function(data) sapply(data, min, na.rm = TRUE)
colMin(mat)
        V1         V2         V3         V4         V5 
-3.2103404 -2.3250558 -1.8649981 -0.5870954 -1.0743421 
```

## Task 5
### Відсортувати кожен стовбець таблиці.
```{r}
sorted_mat <- apply(mat,2,sort,decreasing=F)
sorted_mat
               V1         V2          V3         V4         V5
 [1,] -3.21034040 -2.3250558 -1.86499811 -0.5870954 -1.0743421
 [2,] -1.98790783 -2.0240858 -1.12003778  0.4266255  0.1531665
 [3,] -0.78364967 -1.1296053 -0.78016960  0.5263846  0.1569104
 [4,] -0.42496960 -0.8240340 -0.49225219  0.5550754  0.3167024
 [5,] -0.41972186 -0.4717492 -0.03535169  0.7819053  0.7871929
 [6,]  0.09240561 -0.1031617  0.49798082  0.8705718  0.8269399
 [7,]  0.60809002  0.5772223  0.68167776  1.0328074  0.8800319
 [8,]  0.63092457  0.7457703  0.68879895  1.0766929  1.2071752
 [9,]  1.08005523  1.9758181  0.73961770  1.6468559  1.7722318
[10,]  1.23320952  2.3630683  1.01701762  2.1364006  2.3016229
```

## Task 6
### Знайти кількість значень < 0 для кожного стовпця. Використати свою функцію
```{r}
count_zeroes <- function(data){
  for (x in 1:length(names(data))) {
    print(paste("Column ", x, " : ", toString(length(as.vector(data[x])[as.vector(data[x])<0])), "element(s) less than 0"))
  }
}
count_zeroes(mat)
[1] "Column  1  :  5 element(s) less than 0"
[1] "Column  2  :  6 element(s) less than 0"
[1] "Column  3  :  5 element(s) less than 0"
[1] "Column  4  :  1 element(s) less than 0"
[1] "Column  5  :  1 element(s) less than 0"
```

## Task 7
### Вивести вектор з булевими значеннями TRUE та FALSE. TRUE, якщо в стовпці є елементи >2, FALSE – якщо немає.
```{r}
test <- apply(mat, 2, function(r) any(r > 2))
test
   V1    V2    V3    V4    V5 
FALSE  TRUE FALSE  TRUE  TRUE 
```

## Task 8
### Створить список list1 <- list(observationA = c(1:5, 7:3), observationB = matrix(1:6, nrow=2)). Для цього списку знайдіть sum за допомогою lapply.
```{r}
list1 <- list(observationA = c(1:5, 7:3), observationB = matrix(1:6, nrow=2))
sapply(list1, function(x) sum(x))

observationA observationB 
          40           21 

```

## Task 9
### Для кожного елементу списку list1 знайдіть максимальне та мінімальне значення (range) за допомогою lapply та sapply.
```{r}
lapply(list1, range)
$observationA
[1] 1 7

$observationB
[1] 1 6
```

## Task 10
### Для вбудованого набору даних InsectSprays знайти середнє count для кожного spray.
```{r}
dfsp <- split(InsectSprays, InsectSprays$spray)
sapply(dfsp, function(x) mean(x$count, na.rm=TRUE)) 
        A         B         C         D         E         F 
14.500000 15.333333  2.083333  4.916667  3.500000 16.666667 
```
